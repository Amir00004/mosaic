<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Palais de la Culture Malek Haddad AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Noto Serif', serif;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col bg-cover bg-fixed bg-center" style="background-image: url('https://elwatan-dz.com/storage/30879/Sans-titre-1.gif');">

  <!-- Overlay -->
  <div class=" inset-0 bg-black bg-opacity-70 -z-10"></div>

  <!-- Header -->
  <!-- Header -->
<header class="bg-black bg-opacity-90 py-6 z-10">
  <div class="container mx-auto flex items-center justify-between px-4">
    <!-- Left Logo -->
    <img src="static/uploads/logos-04 (2).png" alt="Logo gauche" class="h-32 w-32 object-contain">

    <!-- Title -->
    <h1 class="text-white text-4xl font-bold tracking-widest text-center drop-shadow-lg">
      MOSAIC YOUTH ASSOCIATION 
    </h1>

    <!-- Right Logo -->
    <img src="static/uploads/logo2.png" alt="Logo droite" class="h-32 w-32 object-contain">
  </div>
</header>


  <!-- Main Section -->
  <main class="flex-grow flex items-center justify-center px-4 py-10 z-10">
    
    <div class="bg-white bg-opacity-95 p-8 rounded-xl shadow-xl max-w-2xl w-full">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Bienvenue au Palais de la Culture Malek Haddad</h2>
      <p class="text-center text-gray-700 mb-6">Posez vos questions sur l'art, le patrimoine et le tourisme.</p>
      
      <!-- Form -->
      <form method="POST" class="space-y-4">
        <!-- <textarea name="prompt" rows="4" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500" placeholder="Votre question..."></textarea> -->
        <div class="flex items-center space-x-2">
          <textarea id="prompt" name="prompt" rows="4" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500" placeholder="Votre question..." required></textarea>
          <button type="button" onclick="startDictation()" class="bg-red-600 text-white p-3 rounded hover:bg-red-500">ðŸŽ¤</button>
        </div>
        <button type="submit" class="w-full bg-gray-800 text-white py-2 px-4 rounded hover:bg-gray-700 transition">Demander Ã  l'IA</button>
      </form>

      <!-- AI Response -->
      {% if response %}
        <div class="mt-6 p-4 bg-gray-100 rounded-lg border border-gray-300">
          <h2 class="text-xl font-semibold text-gray-800 mb-2">RÃ©ponse de l'IA :</h2>
          <p class="text-gray-700 whitespace-pre-wrap">{{ response }}</p>
        </div>
      {% endif %}
    </div>
  </main>
  <script>
    function startDictation() {
      if (window.hasOwnProperty('webkitSpeechRecognition')) {
        const recognition = new webkitSpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = 'fr-FR';
  
        recognition.start();
  
        recognition.onresult = function(e) {
          document.getElementById('prompt').value = e.results[0][0].transcript;
          recognition.stop();
        };
  
        recognition.onerror = function(e) {
          console.error(e.error);
          recognition.stop();
        };
      } else {
        alert("Votre navigateur ne prend pas en charge la reconnaissance vocale.");
      }
    }
  </script>
  
</body>
</html>
